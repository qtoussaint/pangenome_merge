{"record_format_version": 6, "code": "\n        mkdir -p {output.outdir}\n\n        in=\"{input.tsv}\"\n        outdir=\"{output.outdir}\"\n        max=\"{params.max_isolates}\"\n\n        # split into blocks of samples\n        split -l \"{params.max_isolates}\" \"{input.tsv}\" \"{output.outdir}\"/assemblies_batch_\n        \n        # rename to assemblies_batch_000.tsv, assemblies_batch_001.tsv, etc.\n        n=0\n        for f in {output.outdir}/assemblies_batch_*; do\n            mv \"$f\" {output.outdir}/assemblies_batch_$(printf \"%03d.tsv\" $n)\n            n=$((n+1))\n        done\n\n        # create and test index\n        for f in {output.outdir}/assemblies_batch_*.tsv; do\n            bn=$(basename \"$f\")                 # assemblies_batch_000.tsv\n            id=${{bn#assemblies_batch_}}        # 000.tsv\n            id=${{id%.tsv}}                     # 000\n            echo \"$id\"\n        done > \"{output.index}\"\n\n        test -s \"{output.index}\"\n\n        ", "rule": "split_assemblies_tsv", "input": ["/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/test_data/assemblies.tsv"], "log": [], "params": ["10000"], "shellcmd": "\n        mkdir -p /nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches\n\n        in=\"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/test_data/assemblies.tsv\"\n        outdir=\"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches\"\n        max=\"10000\"\n\n        # split into blocks of samples\n        split -l \"10000\" \"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/test_data/assemblies.tsv\" \"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches\"/assemblies_batch_\n        \n        # rename to assemblies_batch_000.tsv, assemblies_batch_001.tsv, etc.\n        n=0\n        for f in /nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches/assemblies_batch_*; do\n            mv \"$f\" /nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches/assemblies_batch_$(printf \"%03d.tsv\" $n)\n            n=$((n+1))\n        done\n\n        # create and test index\n        for f in /nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches/assemblies_batch_*.tsv; do\n            bn=$(basename \"$f\")                 # assemblies_batch_000.tsv\n            id=${bn#assemblies_batch_}        # 000.tsv\n            id=${id%.tsv}                     # 000\n            echo \"$id\"\n        done > \"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches/batches.index\"\n\n        test -s \"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/results/poppunk/batches/batches.index\"\n\n        ", "incomplete": false, "starttime": null, "endtime": 1770816586.8174849, "job_hash": 8786324978128, "conda_env": null, "software_stack_hash": "d41d8cd98f00b204e9800998ecf8427e", "container_img_url": null, "input_checksums": {"/nfs/research/jlees/jacqueline/atb_analyses/species_pangenomes/snakemake_test/test_data/assemblies.tsv": "508da0b33f700e6ecf88b3214ad5ab7c442e046cacc3857971ac047c585fac20"}}